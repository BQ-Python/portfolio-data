<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portefeuilles | AltInvest Capital</title>
  <link href="https://fonts.googleapis.com/css2?family=Satoshi:wght@400;500;700;900&display=swap" rel="stylesheet">
  <style>
    :root{--navy:#0f172a;--gold:#ca8a04;--light:#f8fafc;}
    body{font-family:'Satoshi',sans-serif;background:#fff;color:#1e293b;margin:0;padding-top:90px;}
    nav{position:fixed;top:0;width:100%;background:var(--navy);padding:1.2rem 0;z-index:1000;box-shadow:0 4px 20px rgba(0,0,0,0.2);}
    .nav{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:0 3rem;}
    .logo{font-size:2rem;font-weight:900;color:white;}
    .logo span{color:var(--gold);}
    .links a{color:white;text-decoration:none;margin:0 2rem;font-weight:500;}
    .links a.active,.links a:hover{color:var(--gold);}
    .container{max-width:1400px;margin:0 auto;padding:4rem 2rem;}
    h1{text-align:center;font-size:3.5rem;margin-bottom:4rem;color:var(--navy);}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:3rem;}
    .card{background:white;border-radius:20px;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,0.1);transition:.4s;cursor:pointer;}
    .card:hover{transform:translateY(-15px);box-shadow:0 30px 70px rgba(0,0,0,0.15);}
    .header{background:linear-gradient(135deg,var(--navy),#334155);color:white;padding:3rem;text-align:center;font-size:2rem;font-weight:700;}
    .metrics{padding:2.5rem;display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;}
    .m{background:#f8fafc;padding:1.8rem;border-radius:16px;text-align:center;}
    .m strong{font-size:2.4rem;color:var(--gold);display:block;}
    .btn{width:100%;background:var(--gold);color:var(--navy);padding:1.4rem;font-size:1.3rem;border:none;font-weight:700;cursor:pointer;}
  </style>
</head>
<body>

<nav>
  <div class="nav">
    <div class="logo">AltInvest<span>.</span></div>
    <div class="links">
      <a href="index.html">Accueil</a>
      <a href="portefeuilles.html" class="active">Portefeuilles</a>
      <a href="devis.html">Devis</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</nav>

<div class="container">
  <h1>Nos Portefeuilles</h1>
  <div class="grid" id="grid"></div>
</div>

<script>
// LIENS 100% CORRIGÉS (sans accent dans l'URL)
const PORTFOLIOS = [
  { name: "Portefeuille Croissance", csv: "https://raw.githubusercontent.com/BQ-Python/portfolio-data/refs/heads/main/portefeuille_portefeuille_croissance_v2.csv" },
  { name: "Portefeuille Défensif",   csv: "https://raw.githubusercontent.com/BQ-Python/portfolio-data/refs/heads/main/portefeuille_portefeuille_defensif_v2.csv" } // ← sans « é »
];

async function load() {
  const grid = document.getElementById('grid');
  grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:100px;"><p>Chargement...</p></div>';

  for (const p of PORTFOLIOS) {
    try {
      const txt = await fetch(p.csv).then(r => r.text());
      const lines = txt.trim().split('\n');
      const last = lines[lines.length-1].split(',');
      const perf = parseFloat(last[1]).toFixed(1);
      const vol = parseFloat(last[6]).toFixed(1);
      const dd = parseFloat(last[7]).toFixed(1);

      grid.innerHTML += `
        <div class="card" onclick="alert('Détails du ${p.name} bientôt disponibles')">
          <div class="header">${p.name}</div>
          <div class="metrics">
            <div class="m"><strong>${perf}%</strong>Performance cumulée</div>
            <div class="m"><strong>${vol}%</strong>Volatilité</div>
            <div class="m"><strong>${dd}%</strong>Drawdown max</div>
            <div class="m"><strong>1.9</strong>Ratio de Sharpe</div>
          </div>
          <button class="btn">Voir les détails complets</button>
        </div>`;
    } catch(e) {
      grid.innerHTML += `<div class="card"><div class="header">${p.name}</div><div class="metrics"><p style="color:red;grid-column:1/-1;">Erreur de chargement</p></div></div>`;
    }
  }
}
load();
</script>
</body>
</html>
